<!DOCTYPE html>
<html lang="en" ng-app="flatEditor">
  <head>
    <title>Flat</title>
    <link rel="stylesheet" href="/dist/css/flat-editor.css">
  </head>
  <body class="flat-editor">
    <div toolbar-menu class="toolbar-top"></div>
    <div editor id="canvas-score" class="canvas-score" ng-click="click($event)"></div>

    <div class="toolbar-bottom">
        <div class="pull-left">
            <a href="#/privacy?score={{ score.properties.id }}">
                <i class="glyphicon glyphicon-globe" ng-show="score.properties.public"></i>
                <i class="glyphicon glyphicon-lock" ng-show="!score.properties.public"></i>
            </a>
            <a href="#/properties?score={{ score.properties.id }}">
                {{ data.score['score-partwise']['movement-title'] }}
            </a>
            <span class="score-last-activity">
                -
                <span ng-i18next="flat:score.last-save">Last save</span>: {{ score.revisions[0].authored_date | fromNow }}
            </span>
        </div>
        <div class="pull-right">
            <div class="collaborators">
                <a href="#/collaborators?score={{ score.properties.id }}"><i class="glyphicon glyphicon-user"></i></a>
            </div>
            <div class="scroll"></div>
            <div class="collaborators-avatars" ng-repeat="(uid, c) in collaboratorsOnline">
                <img class="avatar" ng-show="collaborators[uid].user.picture" ng-src="{{ collaborators[uid].user.picture }}" />
                <img class="avatar" ng-hide="collaborators[uid].user.picture" ng-src="https://secure.gravatar.com/avatar/{{collaborators[uid].user.email_md5}}?s=35&amp;d=mm" />
            </div>
        </div>
    </div>

    <div ng-view></div>
    <script>var _csrf = '{_csrf}', baseurl = '{baseurl}';</script>
    <script src="/dist/js/common.js"></script>
    <script src="/dist/js/common-editor.js"></script>
    <script src="/dist/js/fermata.js"></script>
    <script src="/js/modules/flat.js"></script>
    <script src="/js/editor/app.js"></script>
    <script src="/js/editor/controllers.js"></script>
    <script src="/js/editor/services.js"></script>
    <script src="/js/editor/flat.editor.js"></script>
    <script src="/js/editor/flat.editor.realTime.js"></script>
    <script src="/js/editor/flat.editor.toolbarMenu.js"></script>
    <script src="/js/editor/interac/Flat.Interac.js"></script>
    <script src="/js/editor/interac/Flat.Cursor.js"></script>
    <script src="/js/editor/interac/Flat.NetCursor.js"></script>
    <script src="/js/editor/interac/Flat.Interac.Mouse.js"></script>
    <script src="/js/editor/interac/Flat.Player.js"></script>
    <!--<script src="/dist/js/flat-editor.min.js"></script>-->
  </body>
</html>